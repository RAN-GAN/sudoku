

var id = Math.floor(Math.random() * 100);
var puzzlesar = ['6.....7........2....2..........8.4.616..75...8.3.1.5....48...2.7.5..36......5.14.', '...2...9...23.7........8....65....7....6......8....21.2.....1..19.8.3.2.8.3..695.', '8...26.3.1.....2............5.....9...83....6.42..8..526....1....5..4..8..9....6.', '.1....9.5...75..6.9......4.....4.8....1...5..8...1...9.7...63...3..8..14..5...7..', '2.7.....95..8........17..2...........89.5.7...4.21.58..2......4......15...4....38', '..2..9...8.3........7..523.4..2.38...7..4.5..3...58.29..9..6.........3..........4', '3.65.4.2.....8.....9.7.6....6......8....27.4.......9......4...97.3..9...4..8.2.3.', '.....6.87..........94.......8......4..578.9..973.5....8..4..13..36..9..5.4..1.87.', '....86..46..9........2.....76........8.3.....9.2..1....4..7...8.7...312.12....4.9', '.9...2.7...58.9.3.63.57..4.3....8.65........9.....3.2.2.83.4..............6...7..', '.2.......8.7.63...........453.62..1..641...........83....8..6.1...54...27......5.', '9..6..4.....24.6....3...75.5...3...9.34..1.....6.....4....65...725.9.......1.2...', '6.4.13...9.78.51.45.....6.......7.9.1..3...8....1.4......4..3........958.8......7', '5.....3...6.8.......3.4.7......21.453.1.54..2..5......1.6..........3.8.7.....72.4', '1..9...2..4......3...8.2......7.6.184.....69.....21.......8.....7..3.9...3.2..7.1', '.5..4..1....3....68..6..479...7.6.....5...1......89...1..9...8739.8.4....7.......', '2...698.7....87.59...3....2.28..36..46..7..9...34.........5....9.......4...9.2...', '489.........86..2....9......46......8.71.....1....83.....79...2.7...693..3.4....8', '.4..1.3.5....2.......6.5...4.....9..1....628.93...2.6..1.298.....5..48......3..4.', '.1.23..9.92.5......5.....63........4..4..9..........21..162..35......1....7....4.', '......4...4....6.3..2.8.....3..52...5287.4..9...9............368.9..3.4..5...9..8', '...2......5819...3.2..6........5..96.......3....8..5...6....3.44...18..9.8243.6.5', '......1.....5.......1.4...2...3...7962.........7.1...317..6..9.4.6.3...13.5..26.4', '.79..4.5...5..8.71......4.....983................752..2...3.1.4.94.2..877.8.4.5..', '.1.8.3...5..24.71.4....7..8...7...3.35.9.............4......4.378....59.9.1....72', '9..1.7.......3.756...8..9..12.6.9....7...8.....5..28...........78....6..3.6.....5', '..234.8......2..67.87..542..34...............2.8.6....35...97.......264....5..9..', '6.......2.8.......13.8.4.6...7.9....94..6..372.1..7.94..3.7.....9.......4..9.1...', '.89.25..3..4.9..6..3..74...1......3...6...5..8.......2......7497.2.4.....9......5', '........18....5...7.........2.6...9..5.8.74....65.4.2....9...6..82..6.....4.1.28.', '..7....53...9..2.........1.1.52...7...483...28...97..5...3.4...3.........2..5..47', '6.......71.3.46...9..1..4........18......32..........3..96.8....7..3.....3241...8', '.36....98429.....6..........48..6...3...9..8...73.4......6.547......8.52...2.3...', '.7.986..4.....491........6.9.6.2.....1.......2......813..4..1.9.8.7.......2..3...', '..8.6.7...5.3........97..1..975....6..1.9....8.3.....5...48...138.6.9.7.......6..', '3....9..4..8.....994....51.46.35..7..1...8.5.......1....35..8.6.91...3...........', '..1..7..98269........4.1...9...7.........6...78....1..45..8...7...7...56....5.2..', '3..8....6...............2.7.5.....1.6.152....28....95.13....5....2.7..3.9...63...', '........34.6..1.97......16.........1..7....8..236.....8...2...4.1.8...29..41.9.7.', '...4..58..5...62.4.7.....3......3.......5..46.6..78...6.3.879.28........9..5.....', '..3.54.......1...4........78..4...71.41.8.3....9.2.....2...84...1453..2..5....1..', '.......9.....4.8.....6......8..9..45.9.4516.8..2.......1...9.54...8..7.674...5...', '...1...3.9.......5......2.6......8.1..82.6..93..8......4.5...28.9...2...16.9.45..', '37.1.9............6412....3.....52..9.4...3..56.913........1..7..9......7..64.52.', '..61...37....57.1.....2.6.45.1...2..28.......36.8....1...5..8....3.....6.7...1...', '...6...1.......9....49..7.39...6...1.........8..3.1294......1.8.2.8.3.6...3.4...2', '21..5..8.....24....74.....5...7.8.1..........5.72......5...9..6.61.4....78.6.1...', '....48.97.9.71.32...2.....8...57...98..13......3..9.5.4..............2.3...8...7.', '7.........534......49.5...36..9.1..23.1..79.4....36.5.9.7.............2.....723..', '.7.4.61.34.19.5.....5.........1...95..3..4....5...972..2.........9...47.73......2', '3...7....9.64......8..62.147...38..9.....7.61.......2....62.....98.......3..84..6', '8.13..75.9...6..23...5.....387..1...1.......6..6.......23.........7..5..51...2..8', '..51..89..16.....58..3.........4968...4.3..1.....5..423..........25....1.59.6....', '.9..4......57.1..478..9..6....2........9.7.1687......22..8...7....1..9........2.1', '2..3.7..49..8.473.....2.1....7.318................9.1.......6.7.....89....62.3...', '.7.......2....6.386..342.......6.8......89..77..1...2.4...23.....947...3..1....9.', '...6.1.43.2..3..1.5..........5......13...8..2...12..58.......857....23..3.....6..', '...1.7........813....2.....2...79.1857.....42.3....5....9..2...82.4...5....3...8.', '8.9....36.4..8..15.....6..93......51.16..3.....58........21........4..6...45.....', '..2.....3..19.5.......73.4.7.91...3.............2..614..........5.....9.29..6.371', '......8..14.8...656.2..7.4....4.6..25...2........91...2.6...5..4.1..9......7.....', '.1.3....2.2.69..7..7.4.296....2....45...6.1....4.7..3.7.......5..........937.....', '...4.27.6...71....5....6.3..3....58......4.....8..7...1..628.4.8..5...73..5.....1', '....7.........2.4.......9.5..8..5.......48....2.1.97........65.74..9..8..965.1..2', '.6.93.............935........3.....1..8.5..6714.....89....17.5.4..693......5....4', '..6.........583....8...7.2..437..6...29.......6...2.74..469.....5......78..3.....', '..7..2..6.4.87..19.........98....5....6.....3.5.4............2..145.8...6259.....', '.........31......5....6..4.85.4..1.9..3.168...648...7....19.....3.....97.8..53...', '..8.....56..47.....176.3..........12.7...8....3.147....5.2.4.8.....6............1', '9.......6....6.8....1...74.7.2...6.913..2.......1....2..4...387....92.....3......', '....146.23....24....8.9.....3....8..9.5..6...6.2..39...4......6.....91..1594..2..', '................851...4.93.6......9..93...7.684.9.....3....8.6451.3.......9..1..7', '5.....7.1.......83.7..1.29..48.9....2..4..1.8......43..8.7...............19.84..2', '3..9.......17..4...46.....7....6.....341.....7.8...56.1.758.3........1..9...4.7.5', '..29...7...1.7.8..36.....9.6.8712.......5.....1389......9..56.7....6....28......3', '.46.1...7.3.4.........9..5.3.......5.92.3.46..7..52....1.6.7..2..7......45.......', '....4389...6........8.....5.7....5..........3...87...1....39..73.....94..5.16....', '..2.9.1..35...2.....1....4.437.18.......7....8....3...7.8...2......4.9.......58.7', '27...3..5..62..4.1....6...3.......526.71.......13.......5....8..8......67....4.2.', '4.8..9..6..3....1...1..74.2...3........94...8....7..9.6......29.7......419.8...6.', '.9.....1.....3.7.53...5...8........7.81......7...9.84...4.........5.12.45.7..29..', '..427....3.85.9..6.9.46..3..5.....29..76........72..5..3.9.............8.......64', '....9....75..........1.2..7..8..3...3.2.87.4......51....7...3.92.1..8..44...2....', '8...32..62..6.......9.5..4......4...31......2...39...5.2..6..58......1.....281...', '...............652..7..9.1...9...1..6.3....79...2.7....9..12.65.3.95....81..3....', '..52...734..3.9..8....58...6.....5....25.4.3.7...9.8............9.4......8..65.2.', '......8.........5...769.2.39...65.........621......9...1..8..7..5.1....2.365.7..9', '1..4.6.3..5..9.....69..85.....6....4......8...9..2......3.1....51...23.....98.15.', '....4....5....1.7..3..9.2...........2..9..1......7..34.4...35....172.6.9.7..1.32.', '..3..87..2..5.3.....5...6.2........56.84..2....9...867.6...7..8...34....3...8.5.9', '.4...35....16...........6..72.53...4..4....21.........1.......7.3687....8.7.5.4..', '....79......3.5.....7.1.3.5.........85.....7..7.1.49...6....58....5.8..49...47..6', '8....6......7....347...16.....9.4..7..1....6.......4..2....784.....12......6.8.39', '......7.574...9..8.3..5..94......8..29...7.4..51....2..24.......8.9.31.....1.5...', '....2.38.......2.9.9.......23...6..8..4.1.6..8.9..34..97..32......7....1.......36', '4...37.....76498....1.8.6...........63...5.....5.......16....5.5....43.7...9...6.', '82......4......9...64...58....2.....4.....1.5....6..49....38....8.1.46...169.2...', '.3...2...8....3..19....735..2...91..4.78...2.1..4......8.2..4......7.8..29.......', '41........8...5.1...7...69.8.412....2.....9.5.6..........5...761...8.2.9..82..1..', '.6.7.9.8..1..63..7....8...68.4.1...93..............673..9.....1...5....4.5....83.'];
var solutionar = ['691524783538791264472638951257389416169475832843216579914867325725143698386952147', '638241795542397861917568342365912478721684539489735216256479183194853627873126954', '894526731136789254527143689351467892978352416642918375263895147715634928489271563', '716423985428759163953861247597642831341978526862315479174296358239587614685134792', '267435819531892467498176325352748691189653742746219583625381974873924156914567238', '152379648863124975947685231495263817278941563316758429789436152524817396631592784', '316594827547281396892736514164953278938627145275418963621345789783169452459872631', '312946587658137492794528361281693754465781923973254618827465139136879245549312876', '217586394654937281398214567761825943485369712932741856549172638876493125123658479', '894632571715849632632571948329718465587426319461953827278394156953167284146285793', '429785163817463295653291784538627419964138527271954836395872641186549372742316958', '912657438857243691643819752578436219234971865196528374481765923725394186369182547', '624913875937865124518742639863527491145396782792184563259478316476231958381659247', '549176328762893451813245796687321945391754682425968173176482539254639817938517264', '186973524942615873753842169325796418417358692869421357694187235271534986538269741', '659247813417398526823651479984716235765432198231589764146925387392874651578163942', '254169837631287459879345162728593641465871293193426785382754916917638524546912378', '489352716753861429261947853346529187897134265125678394618793542574286931932415678', '246819375571423698893675124462387951157946283938152467714298536325764819689531742', '416237598923586417758941263185362974274819356369475821891624735642753189537198642', '786315492145297683392486157931852764528764319467931825214578936879623541653149278', '614283957758194263329765148871352496546971832293846571167529384435618729982437615', '249683157738521946561749832814356279623497518957218463172864395486935721395172684', '379614852425398671861752439642983715587261943913475268256837194194526387738149526', '617893245538246719429517368194725836356984127872631954265179483783462591941358672', '964157382812934756537826914128649537673518429495372861259463178781295643346781295', '562347891143928567987615423634851279715294386298763154356489712879132645421576938', '674519382582736941139824765357498216948162537261357894813675429796243158425981673', '689125473574398261231674958127956834946832517853417692365281749712549386498763125', '265378941849165732731249658428631597953827416176594823517982364382456179694713285', '617482953453971286289563714135246879794835162862197435578324691346719528921658347', '654329817183746925927185436365274189791863254248591763419658372876932541532417698', '136452798429837516875169243948526137352791684617384925283615479761948352594273861', '571986234863254917429137865946821573718345692235679481357468129184792356692513748', '138265749759341862426978513297534186541896327863127495672483951385619274914752638', '357169284128745639946283517462351978719628453835497162273514896691872345584936721', '541827639826935471379461825962178543135246798784593162453682917298714356617359284', '379852146426791385518436297754389612691524873283617954137248569862975431945163728', '971286453486531297352947168598472631647315982123698745869723514715864329234159876', '196432587358796214472815639281643795739251846564978123643187952825369471917524368', '193754286267819534485263917832495671541687392679321845326178459914536728758942163', '268573491135942867974618532681297345397451628452386179813769254529834716746125983', '286195437934627185517438296629753841478216359351849762743561928895372614162984573', '378169452295834671641257983137485296984726315562913748426591837859372164713648529', '926148537438657912715923684591736248287415369364892751142569873853274196679381425', '279634815538217946164985723947562381312498657856371294495726138721853469683149572', '216357489835924761974186325643798512128465973597213648452879136361542897789631254', '531248697698715324742963518164572839859136742273489156485327961917654283326891475', '768213495153469278249758613675941832381527964492836751927385146836194527514672389', '972486153481935267365712849647128395293574618158369724526847931819253476734691582', '324871695916453287587962314761238549243597861859146723475629138698315472132784956', '861324759975168423432597861387641295194275386256983147723856914648719532519432678', '235176894916428375847395126521749683784632519693851742368914257472583961159267438', '196348527325761894784592163613254789452987316879613452241839675537126948968475231', '281397564965814732473526198527631849619482375348759216132945687754168923896273451', '973815462214796538685342971132567849546289317798134625457923186869471253321658794', '879651243426837519513294876285946137134578962967123458642319785758462391391785624', '695137824742968135183245697264579318578613942931824576359782461826491753417356289', '829175436643982715751436829378694251216753948495821673567218394182349567934567182', '872641953431925867965873142749186235126354789583297614617439528358712496294568371', '735614829149832765682957143918476352564328971327591486276143598451289637893765214', '619387542425691378378452961987213654532964187164578239746139825251846793893725416', '981432756346715298527896134734169582659284317218357469173628945892541673465973821', '859674213163952847472813965638725194917348526524169738281437659745296381396581472', '764935812821746935935281746573869421298154367146372589689417253452693178317528694', '436219785217583469985467321143758692729146853568932174374695218651824937892371546', '837192456542876319169345278981763542476251983253489761798634125314528697625917834', '475981632316274985928365741852437169793516824164829573647192358531648297289753416', '348912675692475138517683294485396712179528463236147859751234986923861547864759321', '948713256327564891561289743752438619136925478489176532294651387875392164613847925', '597314682361852479428697315734925861985146723612783954843271596276539148159468237', '962853471734219685158746932671432598293185746845967213327598164516374829489621357', '536829741921547683874316295648193527293475168157268439485732916362951874719684352', '375924618891736452246815937519267843634158279728493561167582394452379186983641725', '842931576591476832367528194658712349924653781713894265439285617175369428286147953', '946215837135478629728396154381964275592731468674852913813647592267589341459123786', '517643892236958714948721365472316589185492673693875421864239157321587946759164238', '672394185354182796981756342437518629516279438829463571798631254265847913143925867', '279413865536298471148567293394876152657142938821359647965721384482935716713684529', '458129376723486915961537482589361247217945638346278591635714829872693154194852763', '895476312146238795372159468459813627681724539723695841264987153938561274517342986', '164273985328519476795468132456831729217695843983724651832946517641357298579182364', '123796458759834216846152937568413792312987645974265183687541329291378564435629871', '851432976247619583639758241985124637316875492472396815124967358768543129593281764', '362581947981473652547629813479365128623148579158297436794812365236954781815736294', '865241973421379658379658214648723591912584736753196842537812469296437185184965327', '364251897192738456587694213921465738845973621673812945219386574758149362436527189', '187456932352197486469238571835671294721349865694825713973514628518762349246983157', '716542893529381476834697251493158762267934185158276934942863517381725649675419328', '943268751276513984185794632712836495658479213439152867561927348897345126324681579', '649213578371685249285947613728531964564798321913426785152364897436879152897152436', '523479618618325749497816325149752863852693471376184952264931587731568294985247136', '839526174162749583475831692528964317341275968697183425256397841983412756714658239', '912438765745269318638751294467512839293687541851394627124876953586943172379125486', '647921385318657249592384167231496578754218693869573412976132854483765921125849736', '468137925257649831391582674972318546634795182185426793816273459529864317743951268', '829516374153487926764329581691245837472893165538761249945638712287154693316972458', '631542987875963241942187356328759164467831529159426738786295413513674892294318675', '416972538983465712527831694854129367231746985769358421392514876175683249648297153', '263749185518263947947185326874316259326957418195428673439872561682531794751694832'];
var solvestatus = 'submitable';
var puzzles = puzzlesar[id];
var solution = solutionar[id];
console.log(puzzles+'\n'+solution+'\n'+id);
var currentSelected = '';

function setup() 
{
    generate();
    setListeners();
    
}
function setListeners()
{
    var selcells = document.querySelectorAll('.sell');
    for(var i=0; i<selcells.length; i++)
    {
        selcells[i].addEventListener('click',function(){
            currentSelected = this.textContent;
            console.log(currentSelected);
        });
    }
    console.log("sells done");


    var cells = document.querySelectorAll('.cell');
    for(var i=0; i<cells.length; i++)
    {
        cells[i].addEventListener('click',function(){
            console.log('this works!!!!');
            console.log(this.className);
            if(this.className.indexOf('iniFilled')==-1)
            {
                this.innerHTML = currentSelected;
            }
        });
    }
    console.log("cells done");
}

function generate()
{
    const cells = document.querySelectorAll('.cell')
    for (let i = 0; i < 81; i++) 
    {
        if(puzzles.charAt(i)=='.')
        {
            num='';
        }
        else{
            num=puzzles.charAt(i);
            cells[i].className += ' iniFilled'
        }
        
        cells[i].textContent = num;

        console.log('generated');
    }
}
function erase()
{
    currentSelected = null;
}

function solve()
{
    var temp = document.querySelector('.submitable');
    temp.className = 'notsubmitable';
    solvestatus='notsubmitable'
    const cells = document.querySelectorAll('.cell')
    for (let i = 0; i < 81; i++) 
    {
        num=solution.charAt(i);
        cells[i].textContent = num;

        console.log('solved');
    }
}

function check()
{
    if(solvestatus=='submitable')
    {
        const cells = document.querySelectorAll('.cell')
        var ans = '';
        for (let i = 0; i < 81; i++) 
        {
            ans += cells[i].textContent;
        }
        if(ans==solution)
        {
            alert('Solution is valid');
        }
        else{
            alert('Solution is invalid');
        }
    }
    else
    {
        alert("Could not submit\nStart a new game");
    }
}
function reload()
{
    window.location.reload();
}

window.onload = setup;